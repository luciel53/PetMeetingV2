{"ast":null,"code":"var _jsxFileName = \"/home/lucie/Documents/PetMeetingV2/src/components/Chat/MessageDetail.js\",\n  _s = $RefreshSig$();\nimport { React, useState, useEffect } from \"react\";\nimport { NavLink, useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jwtDecode } from \"jwt-decode\";\nimport moment from \"moment\";\nimport Button from \"../components/Button\";\nimport users from \"../components/Users\";\nimport cats from \"../components/Cats\";\nimport addimage from \"../assets/images/icons/addimage.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MessageDetail() {\n  _s();\n  const baseUrl = \"http://127.0.0.1:8000/messaging/\";\n  const [message, setMessage] = useState([]);\n  const [userId, setUserId] = useState(\"\");\n  const [IsAuth, setIsAuth] = useState(false);\n  useEffect(() => {\n    if (localStorage.getItem(\"access_token\") !== null) {\n      console.log(\"pouette\");\n      setIsAuth(true);\n      const token = localStorage.getItem(\"access_token\");\n      try {\n        // decode token\n        const decodedToken = jwtDecode(token);\n        console.log(decodedToken);\n        const user_id = decodedToken.user_id;\n        setUserId(user_id);\n        console.log(\"TEST ID: \", user_id);\n\n        // fetch msg using user_id\n        axios.get(baseUrl + \"get-messages/\" + user_id + \"/\").then(response => {\n          setMessage(response.data);\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 10\n  }, this);\n}\n_s(MessageDetail, \"ypKPDBE0ZHOZxHY1HDP7F2X3qZc=\");\n_c = MessageDetail;\nexport default MessageDetail;\nvar _c;\n$RefreshReg$(_c, \"MessageDetail\");","map":{"version":3,"names":["React","useState","useEffect","NavLink","useLocation","axios","jwtDecode","moment","Button","users","cats","addimage","jsxDEV","_jsxDEV","MessageDetail","_s","baseUrl","message","setMessage","userId","setUserId","IsAuth","setIsAuth","localStorage","getItem","console","log","token","decodedToken","user_id","get","then","response","data","error","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/lucie/Documents/PetMeetingV2/src/components/Chat/MessageDetail.js"],"sourcesContent":["import { React, useState, useEffect } from \"react\";\nimport { NavLink, useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jwtDecode } from \"jwt-decode\";\nimport moment from \"moment\";\nimport Button from \"../components/Button\";\nimport users from \"../components/Users\";\nimport cats from \"../components/Cats\";\nimport addimage from \"../assets/images/icons/addimage.png\";\n\nfunction MessageDetail() {\n  const baseUrl = \"http://127.0.0.1:8000/messaging/\";\n  const [message, setMessage] = useState([]);\n  const [userId, setUserId] = useState(\"\");\n  const [IsAuth, setIsAuth] = useState(false);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"access_token\") !== null) {\n      console.log(\"pouette\");\n      setIsAuth(true);\n      const token = localStorage.getItem(\"access_token\");\n      try {\n        // decode token\n        const decodedToken = jwtDecode(token);\n        console.log(decodedToken);\n        const user_id = decodedToken.user_id;\n        setUserId(user_id);\n        console.log(\"TEST ID: \", user_id);\n\n        // fetch msg using user_id\n        axios.get(baseUrl + \"get-messages/\" + user_id + \"/\").then((response) => {\n          setMessage(response.data);\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, []);\n\n  return <div></div>;\n}\n\nexport default MessageDetail;\n"],"mappings":";;AAAA,SAASA,KAAK,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,OAAO,EAAEC,WAAW,QAAQ,kBAAkB;AACvD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,MAAM,MAAM,QAAQ;AAC3B,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,KAAK,MAAM,qBAAqB;AACvC,OAAOC,IAAI,MAAM,oBAAoB;AACrC,OAAOC,QAAQ,MAAM,qCAAqC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,SAASC,aAAaA,CAAA,EAAG;EAAAC,EAAA;EACvB,MAAMC,OAAO,GAAG,kCAAkC;EAClD,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACkB,MAAM,EAAEC,SAAS,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACoB,MAAM,EAAEC,SAAS,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;EAE3CC,SAAS,CAAC,MAAM;IACd,IAAIqB,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,KAAK,IAAI,EAAE;MACjDC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;MACtBJ,SAAS,CAAC,IAAI,CAAC;MACf,MAAMK,KAAK,GAAGJ,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;MAClD,IAAI;QACF;QACA,MAAMI,YAAY,GAAGtB,SAAS,CAACqB,KAAK,CAAC;QACrCF,OAAO,CAACC,GAAG,CAACE,YAAY,CAAC;QACzB,MAAMC,OAAO,GAAGD,YAAY,CAACC,OAAO;QACpCT,SAAS,CAACS,OAAO,CAAC;QAClBJ,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEG,OAAO,CAAC;;QAEjC;QACAxB,KAAK,CAACyB,GAAG,CAACd,OAAO,GAAG,eAAe,GAAGa,OAAO,GAAG,GAAG,CAAC,CAACE,IAAI,CAAEC,QAAQ,IAAK;UACtEd,UAAU,CAACc,QAAQ,CAACC,IAAI,CAAC;QAC3B,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdT,OAAO,CAACC,GAAG,CAACQ,KAAK,CAAC;MACpB;IACF;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,oBAAOrB,OAAA;IAAAsB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAU,CAAC;AACpB;AAACvB,EAAA,CA9BQD,aAAa;AAAAyB,EAAA,GAAbzB,aAAa;AAgCtB,eAAeA,aAAa;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}